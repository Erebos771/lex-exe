%{
#include "parser.tab.h"
%}

%%
"for"           { return FOR; }
[a-zA-Z]+       { return ID; }
[0-9]+          { return NUM; }
"=="|"!="|"<"|">"|"<="|">="  { return RELOP; }
"="             { return ASSIGN; }
"+"             { return '+'; }
";"             { return ';'; }
","             { return ','; }
"("             { return '('; }
")"             { return ')'; }
"{"             { return '{'; }
"}"             { return '}'; }
[ \t\n]+        ;
.               { return yytext[0]; }
%%

int yywrap() { return 1; }

%{
#include <stdio.h>
int yylex(void);
int yyerror();
%}

%token FOR ID NUM RELOP ASSIGN

%%
S : FOR '(' INIT ';' COND ';' INC ')' STMT
    {
        printf("Valid for loop\n");
    }
  ;

INIT : ID ASSIGN NUM
     ;

COND : ID RELOP NUM
     | NUM RELOP ID
     ;

INC  : ID ASSIGN ID '+' NUM
     | ID ASSIGN ID
     ;

STMT : ID ';'
     | '{' STMT '}'
     ;
%%

int main() {
    printf("Enter for loop: ");
    yyparse();
    return 0;
}

int yyerror() {
    printf("Invalid for loop\n");
    return 0;
}
